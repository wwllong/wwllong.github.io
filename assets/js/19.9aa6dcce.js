(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{559:function(s,t,n){s.exports=n.p+"assets/img/lvm_1.1e71ae8c.png"},560:function(s,t,n){s.exports=n.p+"assets/img/lvm_2.c1d1f6b0.png"},561:function(s,t,n){s.exports=n.p+"assets/img/lvm_4.a2104881.png"},562:function(s,t,n){s.exports=n.p+"assets/img/lvm_3.e1d8c102.png"},877:function(s,t,n){"use strict";n.r(t);var e=n(58),a=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux-lvm-磁盘扩容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-lvm-磁盘扩容"}},[s._v("#")]),s._v(" Linux LVM 磁盘扩容")]),s._v(" "),e("h2",{attrs:{id:"lvm基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvm基本概念"}},[s._v("#")]),s._v(" LVM基本概念")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("概念")]),s._v(" "),e("th",[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("PV (Physical volume)，物理卷")]),s._v(" "),e("td",[s._v("可以在上面建立卷组的媒介，可以是硬盘分区，也可以是硬盘本身或者回环文件（ loopback file ）。"),e("br"),s._v("物理卷包括一个特殊的 header，其余部分被切割为一块块物理区域（ physical extents ）。")])]),s._v(" "),e("tr",[e("td",[s._v("VG (Volume group)，卷组")]),s._v(" "),e("td",[s._v("将一组物理卷收集为一个管理单元。")])]),s._v(" "),e("tr",[e("td",[s._v("LV (Logical volume )，逻辑卷")]),s._v(" "),e("td",[s._v("虚拟分区，由物理区域（physical extents）组成。")])]),s._v(" "),e("tr",[e("td",[s._v("PE (Physical extent )，物理区域")]),s._v(" "),e("td",[s._v("硬盘可供指派给逻辑卷的最小单位（通常为 4MB）。")])])])]),s._v(" "),e("h2",{attrs:{id:"磁盘操作相关命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘操作相关命令"}},[s._v("#")]),s._v(" 磁盘操作相关命令")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("指令")]),s._v(" "),e("th",[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("df -h")]),s._v(" "),e("td",[s._v("查看挂载点")])]),s._v(" "),e("tr",[e("td",[s._v("lvdisplay")]),s._v(" "),e("td",[s._v("显示当前的 logical volume")])]),s._v(" "),e("tr",[e("td",[s._v("vgdisplay")]),s._v(" "),e("td",[s._v("显示当前的 volume group")])]),s._v(" "),e("tr",[e("td",[s._v("pvdisplay")]),s._v(" "),e("td",[s._v("显示当前的 physical volume")])])])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("下文的一些指令")]),s._v(" "),e("th",[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("fdisk -l")]),s._v(" "),e("td",[s._v("查看磁盘情况，一般配合 |grep '/dev'")])]),s._v(" "),e("tr",[e("td",[s._v("fdisk /dev/sdb")]),s._v(" "),e("td",[s._v("为磁盘/dev/sdb创建新分区")])]),s._v(" "),e("tr",[e("td",[s._v("mkfs -t ext4 /dev/sdb1")]),s._v(" "),e("td",[s._v("格式化磁盘/dev/sdb1分区")])]),s._v(" "),e("tr",[e("td",[s._v("pvcreate /dev/sdb1")]),s._v(" "),e("td",[s._v("将磁盘/dev/sdb1分区创建为逻辑卷")])]),s._v(" "),e("tr",[e("td",[s._v("vgcreate ubuntu-vg /dev/sdb1")]),s._v(" "),e("td",[s._v("在逻辑卷/dev/sdb1创建卷组ubuntu-vg")])]),s._v(" "),e("tr",[e("td",[s._v("lvcreate -L 9.9G ubuntu-vg")]),s._v(" "),e("td",[s._v("在卷组ubuntu-vg上创建9.9G到逻辑卷")])]),s._v(" "),e("tr",[e("td",[s._v("mount /dev/ubuntu-vg/lvol0 /home/wenwl/lvm/")]),s._v(" "),e("td",[s._v("将逻辑卷/dev/ubuntu-vg/lvol0挂载到/home/wenwl/lvm/目录")])]),s._v(" "),e("tr",[e("td",[s._v("vgextend ubuntu-vg /dev/sdc1")]),s._v(" "),e("td",[s._v("将逻辑卷/dev/sdc1扩容到ubuntu-vg卷组上")])]),s._v(" "),e("tr",[e("td",[s._v("lvextend -L +9.9G /dev/ubuntu-vg/lvol0")]),s._v(" "),e("td",[s._v("扩容10G到逻辑卷/dev/ubuntu-vg/lvol0")])])])]),s._v(" "),e("h2",{attrs:{id:"lvm-扩容栗子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvm-扩容栗子"}},[s._v("#")]),s._v(" LVM 扩容栗子")]),s._v(" "),e("p",[s._v("扩容例子基于 Ubunut 20.04，使用原始的fdisk格式化工具：")]),s._v(" "),e("h3",{attrs:{id:"了解磁盘情况"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#了解磁盘情况"}},[s._v("#")]),s._v(" 了解磁盘情况")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fdisk -l |grep '/dev'\n")])])]),e("p",[e("img",{attrs:{src:n(559),alt:"lvm_1"}})]),s._v(" "),e("p",[s._v("这台机器没有开启LVM，目前只有一个sda硬盘，上面有一个sda1和一个sda2分区，原先是想扩展sda2分区的空间，\n但是我们需要先将sda磁盘转成LVM，这是一个相对复杂的过程，本文只是想演示LVM扩容，这就本末倒置了，\n故我接下来将，分别插入两块磁盘，演示LVM扩容示例：")]),s._v(" "),e("h3",{attrs:{id:"新磁盘作lvm管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新磁盘作lvm管理"}},[s._v("#")]),s._v(" 新磁盘作LVM管理")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("首先增加一块磁盘(10G)，效果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:n(560),alt:"lvm_2"}})]),s._v(" "),e("p",[s._v("sdb就是我们的新加入的磁盘。目前新加的磁盘并没有被分区，待后续分区后，将磁盘用LVM管理后，再插入一个新到磁盘将分区扩容到20G。")])]),s._v(" "),e("li",[e("p",[s._v("执行以下指令，创建新的分区 "),e("code",[s._v("sdb")]),s._v("。（"),e("strong",[s._v("带#注释部分只是为了说明，执行请忽略，下文出现作用相同，不再一一备注")]),s._v("）")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" /dev/sdb "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建分区命令")]),s._v("\n\nWelcome to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("util-linux "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.34")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nChanges will remain "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" memory only, "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" you decide to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" them.\nBe careful before using the "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" command.\n\nDevice does not contain a recognized partition table.\nCreated a new DOS disklabel with disk identifier 0x34971ed9.\n\nCommand "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建分区")]),s._v("\nPartition "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("\n   p   primary "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" primary, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" extended, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e   extended "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("container "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" logical partitions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSelect "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": p "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认主分区")]),s._v("\nPartition number "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-4, default "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认一个分区")]),s._v("\nFirst sector "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("-20971519, default "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认开始簇")]),s._v("\nLast sector, +/-sectors or +/-size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("K,M,G,T,P"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("-20971519, default "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20971519")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认即可")]),s._v("\n\nCreated a new partition "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" of "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Linux'")]),s._v(" and of size "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" GiB.\n\nCommand "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": w "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 写入磁盘分区")]),s._v("\nThe partition table has been altered.\nCalling ioctl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to re-read partition table.\nSyncing disks.\n\n")])])]),e("p",[s._v("结果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:n(561),alt:"lvm_4"}})])]),s._v(" "),e("li",[e("p",[s._v("格式化分区")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkfs")]),s._v(" -t ext4 /dev/sdb1 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式化分区")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mke2fs")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.45")]),s._v(".5 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("07-Jan-2020"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCreating filesystem with "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2621184")]),s._v(" 4k blocks and "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("655360")]),s._v(" inodes\nFilesystem UUID: fb9f90ef-c3d1-4bcd-987f-26f746ae6af7\nSuperblock backups stored on blocks: \n        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("98304")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("163840")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("229376")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("294912")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("819200")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("884736")]),s._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1605632")]),s._v("\n\nAllocating group tables: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("                            \nWriting inode tables: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("                            \nCreating journal "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v(" blocks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nWriting superblocks and filesystem accounting information: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" \n")])])])]),s._v(" "),e("li",[e("p",[s._v("将新建的分区创建为物理卷（PV）, 随后创建一个卷组，并将PV加入到卷组（VG）中 ，并查看卷组信息，查看结果。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pvcreate /dev/sdb1 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建PV")]),s._v("\nWARNING: ext4 signature detected on /dev/sdb1 at offset "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),s._v(". Wipe it? "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y/n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": y\n  Wiping ext4 signature on /dev/sdb1.\n  Physical volume "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dev/sdb1"')]),s._v(" successfully created.\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgcreate ubuntu-vg /dev/sdb1 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建并加入卷组")]),s._v("\n   Volume group "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ubuntu-vg"')]),s._v(" successfully created\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pvscan "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看卷组")]),s._v("\n   PV /dev/sdb1   VG ubuntu-vg       lvm2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB / "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB free"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   Total: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" no VG: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("由结果已知，目前sdb1分区已经加入到ubuntu-vg卷组中")])]),s._v(" "),e("li",[e("p",[s._v("在ubuntu-vg卷组上创建逻辑卷（LV）")]),s._v(" "),e("p",[s._v("先查看卷组信息，得到容量信息，好创建逻辑卷：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgdisplay  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看卷组信息")]),s._v("\n  --- Volume group ---\n  VG Name               ubuntu-vg\n  System ID             \n  Format                lvm2\n  Metadata Areas        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Metadata Sequence No  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Open LV               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Max PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Act PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  VG Size               "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB\n  PE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.00")]),s._v(" MiB\n  Total PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2559")]),s._v("\n  Alloc PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   \n  Free  PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2559")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB\n  VG UUID               3GGVfV-xuUP-5xMu-uiki-LY8o-Qmo0-wrHmsP\n")])])]),e("p",[s._v("目前卷组的默认PE为4MB（这个设置可以通过-s参数修改大小），计算可用空间得到："),e("br"),s._v("\n2559.0*4/1024 ~= 9.996039375"),e("br"),s._v("\n现在我们在这个卷组上创建一个逻辑卷，并将所有空间给新建的逻辑卷：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvcreate -L "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".9G ubuntu-vg "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建逻辑卷")]),s._v("\n  Rounding up size to full physical extent "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.90")]),s._v(" GiB\n  Logical volume "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lvol0"')]),s._v(" created.\n")])])]),e("p",[s._v("逻辑卷“lvol0”以及创建完成。（如果要自定义命名，在ubuntu-vg前使用-n newName即可）")]),s._v(" "),e("p",[s._v("查看逻辑卷信息：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvdisplay "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看逻辑卷信息")]),s._v("\n  --- Logical volume ---\n  LV Path                /dev/ubuntu-vg/lvol0\n  LV Name                lvol0\n  VG Name                ubuntu-vg\n  LV UUID                loQ5zr-pzz9-XG1H-W3Rp-kXBR-uOPw-BPzh3s\n  LV Write Access        read/write\n  LV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" ubuntu, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-05-16 03:46:43 +0000\n  LV Status              available\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# open                 0")]),s._v("\n  LV Size                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.90")]),s._v(" GiB\n  Current LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2535")]),s._v("\n  Segments               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("\n  Block device           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0\n\n")])])])]),s._v(" "),e("li",[e("p",[s._v("挂载逻辑卷")]),s._v(" "),e("p",[s._v("将逻辑卷挂载到某个目录下（此处挂在到了/home/wenwl/lvm/），以后数据都通过逻辑卷写入磁盘：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/ubuntu-vg/lvol0 /home/wenwl/lvm/\n")])])]),e("p",[s._v("如果遇到类似下面的错误：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mount: /home/wenwl/lvm: wrong fs type, bad option, bad superblock on /dev/mapper/ubuntu--vg-lvol0, missing codepage or helper program, or other error.\n")])])]),e("p",[s._v("可能是没安装工具或者没有格式化分区导致的，安装工具方法参照下面指令，格式化分区参见上文第四步。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# centos")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ubuntu")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-common\n")])])]),e("p",[s._v("查看结果：")]),s._v(" "),e("p",[e("img",{attrs:{src:n(562),alt:"lvm_3"}})])])]),s._v(" "),e("p",[s._v("至此，我们整个磁盘就被LVM管理，并被挂在在了/home/wenwl/lvm上。")]),s._v(" "),e("h3",{attrs:{id:"扩容分区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扩容分区"}},[s._v("#")]),s._v(" 扩容分区")]),s._v(" "),e("p",[s._v("假如随着业务的增长，写入/home/wenwl/lvm的数据越来越多，10G已经完全不够用了，这个时候我们需要给/dev/mapper/ubuntu--vg-lvol0扩容，在原卷组的磁盘也只有10G情况下，选择增加一块硬盘的情况来扩容，具体步骤可参考：")]),s._v(" "),e("ol",[e("li",[s._v("增加一个磁盘。")]),s._v(" "),e("li",[s._v("在新磁盘建立创建新分区并格式化分区")]),s._v(" "),e("li",[s._v("新分区创建为物理卷。")])]),s._v(" "),e("p",[s._v("以上的步骤可参见上文，这里不重复展开描述，主要是讲后续扩容操作。前三步执行结果如下：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pvscan \n  PV /dev/sdb1   VG ubuntu-vg       lvm2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB / "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.00")]),s._v(" MiB free"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  PV /dev/sdc1                      lvm2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Total: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" no VG: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.00")]),s._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("/dev/sdc1 是我新增的磁盘上的分区，已经创建为逻辑卷，目前它是没有加入到任务卷组里面的。接下来我们将其加入到扩容到卷组ubuntu-vg，也就是扩容VG：")]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("p",[s._v("扩容VG：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgextend ubuntu-vg /dev/sdc1 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扩容ubuntu-vg")]),s._v("\n  Volume group "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ubuntu-vg"')]),s._v(" successfully extended\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgdisplay "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看卷组")]),s._v("\n  --- Volume group ---\n  VG Name               ubuntu-vg\n  System ID             \n  Format                lvm2\n  Metadata Areas        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  Metadata Sequence No  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Open LV               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Max PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  Act PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  VG Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.99")]),s._v(" GiB\n  PE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.00")]),s._v(" MiB\n  Total PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5118")]),s._v("\n  Alloc PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2535")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.90")]),s._v(" GiB\n  Free  PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2583")]),s._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.09")]),s._v(" GiB\n  VG UUID               3GGVfV-xuUP-5xMu-uiki-LY8o-Qmo0-wrHmsP\n\n")])])]),e("p",[s._v("根据卷组信息可知，这个时候ubuntu-vg已经扩容成功，因为它有大概有10G 的Free  PE。这个时候分区 /dev/mapper/ubuntu--vg-lvol0 还没有完成扩容，我们需要将卷组上的10G空闲空间分配给它，也就是扩容对应的逻辑卷，即扩容LV：")])]),s._v(" "),e("li",[e("p",[s._v("扩容LV")]),s._v(" "),e("p",[s._v("在扩容前，最好查看当前的逻辑卷，确定好扩容的路径：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvdisplay \n  --- Logical volume ---\n  LV Path                /dev/ubuntu-vg/lvol0\n  LV Name                lvol0\n  VG Name                ubuntu-vg\n  LV UUID                loQ5zr-pzz9-XG1H-W3Rp-kXBR-uOPw-BPzh3s\n  LV Write Access        read/write\n  LV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" ubuntu, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-05-16 03:46:43 +0000\n  LV Status              available\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# open                 1")]),s._v("\n  LV Size                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.90")]),s._v(" GiB\n  Current LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2535")]),s._v("\n  Segments               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("\n  Block device           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0\n\n")])])]),e("p",[s._v("此次我们要扩容逻辑卷路径为 /dev/ubuntu-vg/lvol0。")]),s._v(" "),e("p",[s._v("扩容LV可以按指定增加大小或者按百分比扩容：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加指定大小")]),s._v("\nlvextend -L +10G /dev/ubuntu-vg/lvol0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按百分比扩容")]),s._v("\nlvextend -l +100%FREE /dev/ubuntu-vg/lvol0\n")])])]),e("p",[s._v("我的执行操作：")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvextend -L +2G /dev/ubuntu-vg/lvol0 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先加2G")]),s._v("\n  Size of logical volume ubuntu-vg/lvol0 changed from "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.90")]),s._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2535")]),s._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.90")]),s._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3047")]),s._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n  Logical volume ubuntu-vg/lvol0 successfully resized.\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvextend -l +100%FREE /dev/ubuntu-vg/lvol0 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# all in")]),s._v("\n  Size of logical volume ubuntu-vg/lvol0 changed from "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.90")]),s._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3047")]),s._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.99")]),s._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5118")]),s._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n  Logical volume ubuntu-vg/lvol0 successfully resized.\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvdisplay "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前逻辑卷")]),s._v("\n  --- Logical volume ---\n  LV Path                /dev/ubuntu-vg/lvol0\n  LV Name                lvol0\n  VG Name                ubuntu-vg\n  LV UUID                loQ5zr-pzz9-XG1H-W3Rp-kXBR-uOPw-BPzh3s\n  LV Write Access        read/write\n  LV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" ubuntu, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-05-16 03:46:43 +0000\n  LV Status              available\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# open                 1")]),s._v("\n  LV Size                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.99")]),s._v(" GiB\n  Current LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5118")]),s._v("\n  Segments               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("\n  Block device           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0\n\n")])])]),e("p",[s._v("由逻辑卷信息可知，目前逻辑卷的大小已经扩容到20G！但是如果 执行"),e("code",[s._v("df -h")]),s._v(" 会发现还没扩容到，是因为我们还需要刷新分区信息，才能将扩容让磁盘可知。")])]),s._v(" "),e("li",[e("p",[s._v("刷新分区")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("wenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" resize2fs /dev/ubuntu-vg/lvol0 "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 刷新分区")]),s._v("\nresize2fs "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.45")]),s._v(".5 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("07-Jan-2020"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nFilesystem at /dev/ubuntu-vg/lvol0 is mounted on /home/wenwl/lvm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" on-line resizing required\nold_desc_blocks "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", new_desc_blocks "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nThe filesystem on /dev/ubuntu-vg/lvol0 is now "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5240832")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("4k"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" blocks long.\n\nwenwl@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\nFilesystem                    Size  Used Avail Use% Mounted on\nudev                          937M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  937M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs                         196M  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".6M  195M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run\n/dev/sda2                      20G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".9G   11G  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("% /\ntmpfs                         980M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  980M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs                         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".0M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/lock\ntmpfs                         980M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  980M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\n/dev/loop1                     56M   56M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/core18/1988\n/dev/loop0                     56M   56M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/core18/1997\n/dev/loop3                     33M   33M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/snapd/11588\n/dev/loop4                     71M   71M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/lxd/20400\n/dev/loop2                     71M   71M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/lxd/20371\n/dev/loop5                     33M   33M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("% /snap/snapd/11841\ntmpfs                         196M     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  196M   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/1000\n/dev/mapper/ubuntu--vg-lvol0   20G   44M   19G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /home/wenwl/lvm "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 已经变成了20G")]),s._v("\n\n")])])]),e("p",[s._v("自此扩容成功！！")])])]),s._v(" "),e("p",[s._v("参考："),e("br"),s._v(" "),e("a",{attrs:{href:"https://funtl.com/zh/linux/Linux-LVM-%E7%A3%81%E7%9B%98%E6%89%A9%E5%AE%B9.html#lvm-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux LVM 磁盘扩容"),e("OutboundLink")],1),e("br"),s._v(" "),e("a",{attrs:{href:"https://www.cnblogs.com/nf01/articles/14583107.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux 扩容 / 根分区(LVM+非LVM)"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://blog.csdn.net/weixin_38642130/article/details/88640051",target:"_blank",rel:"noopener noreferrer"}},[s._v("解决mount时发生错误wrong fs type, bad option, bad superblock"),e("OutboundLink")],1),s._v(" "),e("a",{attrs:{href:"https://blog.51cto.com/dreamfire/1084729",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux LVM逻辑卷配置过程详解（创建，增加，减少，删除，卸载）"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);