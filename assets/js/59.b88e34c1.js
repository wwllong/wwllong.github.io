(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{458:function(t,s){t.exports="data:image/png;base64,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"},741:function(t,s,n){"use strict";n.r(s);var a=n(58),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"单例模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单例模式"}},[t._v("#")]),t._v(" 单例模式")]),t._v(" "),a("h2",{attrs:{id:"什么是单例模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是单例模式"}},[t._v("#")]),t._v(" 什么是单例模式")]),t._v(" "),a("blockquote",[a("p",[t._v("Ensure a class has only one instance, and provide a global point of access to it.")])]),t._v(" "),a("p",[t._v("确保一个类只有一个实例，并且提供一个访问它的全局方法。")]),t._v(" "),a("h2",{attrs:{id:"单例模式的设计思想"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单例模式的设计思想"}},[t._v("#")]),t._v(" 单例模式的设计思想")]),t._v(" "),a("p",[t._v("生活中人脚踏两条船，迟早会翻船，脚踏万条船，翻也翻不完。在程序中，有些类你希望他的实例是唯一的。"),a("strong",[t._v("单例模式就是保证一个类有且只有一个对象（实例）的一种机制。")])]),t._v(" "),a("p",[t._v("单例模式用来控制某些事物只允许有一个个体，例如生活中的一夫一妻制、地球只有一个等等。")]),t._v(" "),a("h2",{attrs:{id:"从生活中领悟单例模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从生活中领悟单例模式"}},[t._v("#")]),t._v(" 从生活中领悟单例模式")]),t._v(" "),a("p",[t._v("生活中每个人都希望真爱是唯一的。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单例模式-你就是我的唯一-Version 1.0.0")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBeautifulGirl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""我的漂亮女神"""')]),t._v("\n    __instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n    __isFirstInit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__new__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            MyBeautifulGirl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__new__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__isFirstInit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"遇见"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"，我一见钟情！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            MyBeautifulGirl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__isFirstInit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"遇见"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"，我置若罔闻！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showMyHeart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"就我心中的唯一！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testLove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    jenny "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyBeautifulGirl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jenny"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    jenny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("showMyHeart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    kimi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyBeautifulGirl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Kimi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    kimi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("showMyHeart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(jenny):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jenny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(kimi):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("kimi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"__main__"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    testLove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    \n"),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("'''\n遇见Jenny，我一见钟情！\nJenny就我心中的唯一！\n遇见Kimi，我置若罔闻！\nJenny就我心中的唯一！\nid(jenny): 1721453617784 id(kimi): 1721453617784\n'''")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"单例模式的框架模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单例模式的框架模型"}},[t._v("#")]),t._v(" 单例模式的框架模型")]),t._v(" "),a("h3",{attrs:{id:"类图和实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#类图和实现"}},[t._v("#")]),t._v(" 类图和实现")]),t._v(" "),a("p",[t._v("单例模式的类图：")]),t._v(" "),a("p",[a("img",{attrs:{src:n(458),alt:"单例模式类图"}})]),t._v(" "),a("p",[t._v("单例模式Python实现的三种方式：")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("重写"),a("code",[t._v("__new__和__init__")]),t._v("方法")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Singleton1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""单例实现方式一：重写__new__和__init__方法"""')]),t._v("\n    __instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n    __isFirstInit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__new__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            Singleton1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__new__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__instance\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__isFirstInit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n            Singleton1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__isFirstInit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name\n\n \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Test1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSingleton1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Singleton1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tony"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    karry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Singleton1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Karry"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(tony):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(karry):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tony == karry:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("自定义"),a("code",[t._v("metaclass")]),t._v("的方法")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Singleton2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""单例实现方式二：自定义metaclass的方法"""')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" what"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bases"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dict")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__init__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("what"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bases"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("dict")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化全局变量cls._instance为None")]),t._v("\n        cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__call__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 控制对象的创建过程，如果cls._instance为None则创建，否则直接返回")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_instance "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__call__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_instance\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("metaclass"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Singleton2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""用户自定义的类"""')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Test2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSingleton2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CustomClass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tony"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    karry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CustomClass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Karry"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(tony):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(karry):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tony == karry:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("定义一个单例装饰器（装饰模式）")])])])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("singletonDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""单例实现方式三：定义一个单例装饰器"""')]),t._v("\n    instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wrapperSingleton")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" cls "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" wrapperSingleton\n\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@singletonDecorator")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Singleton3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""使用单例装饰器修饰一个类"""')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name\n \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Test3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testSingleton3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Singleton3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Tony"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    karry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Singleton3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Karry"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(tony):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id(karry):"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tony == karry:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("上述三种方式，测试用例返回的结果，(除了每次类实例的id)返回结果基本一致：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("Tony Tony\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tony"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2314241524400")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2314241524400")]),t._v("\ntony "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" karry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n")])])]),a("p",[t._v("其中"),a("strong",[t._v("使用装饰器模式来实现单例模式，通用性非常高，在实际项目上用的非常多")]),t._v("。")]),t._v(" "),a("p",[t._v("示例中使用装饰器模式实现：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单例模式-你就是我的唯一-Version 2.0.0")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@singletonDecorator")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBeautifulGirl2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""我的漂亮女神"""')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"遇见"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"，我一见钟情！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"遇见"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"，我置若罔闻！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showMyHeart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"就我心中的唯一！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n")])])]),a("h2",{attrs:{id:"应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),a("ol",[a("li",[t._v("你希望这个类只有一个且只能有一个实例。")]),t._v(" "),a("li",[t._v("项目中的一些全局管理类（Manager）可以用单例模式来实现。")])]),t._v(" "),a("blockquote",[a("p",[t._v("摘自： 罗伟富. 《人人都懂设计模式：从生活中领悟设计模式：Python实现》. 电子工业出版社")])])])}),[],!1,null,null,null);s.default=e.exports}}]);